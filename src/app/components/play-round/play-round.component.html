<app-ar-view [markers]="arMarkers$ | async" [debug]="false" (markerStates)="this.onMarkerState($event)"></app-ar-view>
<div class="cards">
  <mat-card class='pollen-card'>
    <mat-icon color='accent' *ngFor="let pollen of (this.beePollen$ | async)">{{ pollen ? 'lens' : 'panorama_fish_eye' }}</mat-icon>
  </mat-card>
  <mat-card class="nest-card" *ngIf="(this.foundRoundMarker$ | async)?.isNest">
    <mat-card-content class='nest-content'>
      <p>Pollen in Nest:</p>
      <h1 class="nest-count">{{(this.studentRoundService.currentNestPollen$ | async) }}</h1>
    </mat-card-content>
  </mat-card>
</div>
<img
  class="student-bee"
  *ngIf="(studentRoundService.currentBeeSpecies$ | async) as bee"
  src="/assets/art/500w/bees/{{bee.art_file}}"
  [ngStyle]="{'transform': 'translate(-50%, 25%) scale(' + calculateBeeScale(bee.relative_size) + ')'}"
  [alt]="bee.name"
>
<button
  mat-raised-button
  class="interact-button"
  color="primary"
  *ngIf="this.foundRoundMarker$ | async as marker"
  [disabled]="!marker.active || ((this.studentRoundService.currentBeePollen$ | async) >= 3 && marker.barcodeValue != 0)"
  (click)="clickInteract(marker)"
>
  Visit {{marker.name}}
</button>
